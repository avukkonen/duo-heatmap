{"code":"import React from 'react';\r\nimport styles from './cell.module.scss';\r\nconst Cell = (props) => {\r\n    const { item1, item2, colors, highestValue } = props;\r\n    const stepAmount = colors.length;\r\n    // values can be null or undefined\r\n    const value1 = item1.value || 0;\r\n    const value2 = item2.value || 0;\r\n    //  maximum value of the items values\r\n    const cellMaxValue = value1 + value2;\r\n    // ratio of the first value inverted\r\n    const ratio = 1 - value1 / cellMaxValue;\r\n    // calculated index of the color lerp\r\n    let colorIndex = Math.round(ratio * stepAmount) - 1;\r\n    // sometimes the index is -1 and then it must be 0 or there will be pain\r\n    if (colorIndex < 0) {\r\n        colorIndex = 0;\r\n    }\r\n    // alpha value of the total highest value of the given range\r\n    const alpha = 1 / (highestValue / cellMaxValue);\r\n    const cellColor = cellMaxValue\r\n        ? colors[colorIndex]\r\n        : { red: 255, green: 255, blue: 255 };\r\n    return (React.createElement(\"div\", { className: styles.cell, style: {\r\n            backgroundColor: `rgba(${cellColor.red}, ${cellColor.green}, ${cellColor.blue}, ${cellMaxValue ? alpha : 1})`\r\n        } }, cellMaxValue ? (React.createElement(\"div\", { className: styles.cellData },\r\n        React.createElement(\"div\", { className: styles.cellItem },\r\n            React.createElement(\"span\", { className: styles.cellItemLabel }, item1.label),\r\n            React.createElement(\"span\", { className: styles.cellItemValue }, value1)),\r\n        React.createElement(\"div\", { className: styles.cellItem },\r\n            React.createElement(\"span\", { className: styles.cellItemLabel }, item2.label),\r\n            React.createElement(\"span\", { className: styles.cellItemValue }, value2)))) : null));\r\n};\r\nexport default Cell;\r\n//# sourceMappingURL=cell-component.js.map","references":["/home/untti/git/duo-heatmap/node_modules/@types/react/index.d.ts"],"map":"{\"version\":3,\"file\":\"cell-component.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/components/cell/cell-component.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,KAAK,MAAM,OAAO,CAAA;AACzB,OAAO,MAAM,MAAM,oBAAoB,CAAA;AAoBvC,MAAM,IAAI,GAAoB,CAAC,KAAK,EAAE,EAAE;IACtC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,GAAG,KAAK,CAAA;IACpD,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,CAAA;IAEhC,kCAAkC;IAClC,MAAM,MAAM,GAAG,KAAK,CAAC,KAAK,IAAI,CAAC,CAAA;IAC/B,MAAM,MAAM,GAAG,KAAK,CAAC,KAAK,IAAI,CAAC,CAAA;IAE/B,qCAAqC;IACrC,MAAM,YAAY,GAAG,MAAM,GAAG,MAAM,CAAA;IAEpC,oCAAoC;IACpC,MAAM,KAAK,GAAG,CAAC,GAAG,MAAM,GAAG,YAAY,CAAA;IAEvC,qCAAqC;IACrC,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,GAAG,CAAC,CAAA;IAEnD,wEAAwE;IACxE,IAAI,UAAU,GAAG,CAAC,EAAE;QAClB,UAAU,GAAG,CAAC,CAAA;KACf;IAED,4DAA4D;IAC5D,MAAM,KAAK,GAAG,CAAC,GAAG,CAAC,YAAY,GAAG,YAAY,CAAC,CAAA;IAC/C,MAAM,SAAS,GAAG,YAAY;QAC5B,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC;QACpB,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAA;IAEvC,OAAO,CACL,6BACE,SAAS,EAAE,MAAM,CAAC,IAAI,EACtB,KAAK,EAAE;YACL,eAAe,EAAE,QAAQ,SAAS,CAAC,GAAG,KAAK,SAAS,CAAC,KAAK,KACxD,SAAS,CAAC,IACZ,KAAK,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG;SACjC,IAEA,YAAY,CAAC,CAAC,CAAC,CACd,6BAAK,SAAS,EAAE,MAAM,CAAC,QAAQ;QAC7B,6BAAK,SAAS,EAAE,MAAM,CAAC,QAAQ;YAC7B,8BAAM,SAAS,EAAE,MAAM,CAAC,aAAa,IAAG,KAAK,CAAC,KAAK,CAAQ;YAC3D,8BAAM,SAAS,EAAE,MAAM,CAAC,aAAa,IAAG,MAAM,CAAQ,CAClD;QACN,6BAAK,SAAS,EAAE,MAAM,CAAC,QAAQ;YAC7B,8BAAM,SAAS,EAAE,MAAM,CAAC,aAAa,IAAG,KAAK,CAAC,KAAK,CAAQ;YAC3D,8BAAM,SAAS,EAAE,MAAM,CAAC,aAAa,IAAG,MAAM,CAAQ,CAClD,CACF,CACP,CAAC,CAAC,CAAC,IAAI,CACJ,CACP,CAAA;AACH,CAAC,CAAA;AAED,eAAe,IAAI,CAAA\"}","dts":{"name":"/home/untti/git/duo-heatmap/components/cell/cell-component.d.ts","writeByteOrderMark":false,"text":"import React from 'react';\r\nexport interface Item {\r\n    label: string;\r\n    value: number | undefined | null;\r\n}\r\nexport interface RGB {\r\n    red: number;\r\n    green: number;\r\n    blue: number;\r\n}\r\nexport interface Props {\r\n    colors: RGB[];\r\n    highestValue: number;\r\n    item1: Item;\r\n    item2: Item;\r\n}\r\ndeclare const Cell: React.FC<Props>;\r\nexport default Cell;\r\n"}}
