{"code":"import * as React from 'react';\r\nimport './styles.module.scss';\r\nimport Row from './components/row/row-component';\r\nimport Cell from './components/cell/cell-component';\r\nexport const DuoHeatmap = (props) => {\r\n    const { modifier, rows, color1, color2 } = props;\r\n    const [highestValue, setHighestValue] = React.useState(1);\r\n    React.useEffect(() => {\r\n        let dataHighestValue = 0;\r\n        for (let r = 0; r < rows.length; r++) {\r\n            const currentRow = rows[r];\r\n            let rowHighest = 0;\r\n            for (let c = 0; c < currentRow.data.length; c++) {\r\n                const currentCellValue = currentRow.data[c].item1.value + currentRow.data[c].item2.value;\r\n                if (currentCellValue > rowHighest)\r\n                    rowHighest = currentCellValue;\r\n            }\r\n            if (rowHighest > dataHighestValue)\r\n                dataHighestValue = rowHighest;\r\n        }\r\n        setHighestValue(dataHighestValue);\r\n    }, [highestValue]);\r\n    const interpolateHexColors = (color1, color2, steps) => {\r\n        // Parse the hex colors into RGB values\r\n        const c1R = parseInt(color1.slice(1, 3), 16);\r\n        const c1G = parseInt(color1.slice(3, 5), 16);\r\n        const c1B = parseInt(color1.slice(5, 7), 16);\r\n        const c2R = parseInt(color2.slice(1, 3), 16);\r\n        const c2G = parseInt(color2.slice(3, 5), 16);\r\n        const c2B = parseInt(color2.slice(5, 7), 16);\r\n        // Calculate the difference between the two colors\r\n        const diffR = c2R - c1R;\r\n        const diffG = c2G - c1G;\r\n        const diffB = c2B - c1B;\r\n        const interpolatedColors = [];\r\n        // Create the interpolated array of colors\r\n        for (let i = 0; i < steps; i++) {\r\n            if (i === 0) {\r\n                interpolatedColors.push(color1);\r\n            }\r\n            else if (i === steps - 1) {\r\n                interpolatedColors.push(color2);\r\n            }\r\n            else {\r\n                const ratio = i / (steps - 1);\r\n                const r = Math.round(c1R + ratio * diffR);\r\n                const g = Math.round(c1G + ratio * diffG);\r\n                const b = Math.round(c1B + ratio * diffB);\r\n                let rHex = r.toString(16);\r\n                let gHex = g.toString(16);\r\n                let bHex = b.toString(16);\r\n                if (rHex.length === 1) {\r\n                    rHex = '0' + rHex;\r\n                }\r\n                if (gHex.length === 1) {\r\n                    gHex = '0' + gHex;\r\n                }\r\n                if (bHex.length === 1) {\r\n                    bHex = '0' + bHex;\r\n                }\r\n                interpolatedColors.push(`#${rHex}${gHex}${bHex}`);\r\n            }\r\n        }\r\n        return interpolatedColors;\r\n    };\r\n    const interpolateHexColorsToRGB = (color1, color2, steps) => {\r\n        // Parse the hex colors into RGB values\r\n        const c1R = parseInt(color1.slice(1, 3), 16);\r\n        const c1G = parseInt(color1.slice(3, 5), 16);\r\n        const c1B = parseInt(color1.slice(5, 7), 16);\r\n        const c2R = parseInt(color2.slice(1, 3), 16);\r\n        const c2G = parseInt(color2.slice(3, 5), 16);\r\n        const c2B = parseInt(color2.slice(5, 7), 16);\r\n        // Calculate the difference between the two colors\r\n        const diffR = c2R - c1R;\r\n        const diffG = c2G - c1G;\r\n        const diffB = c2B - c1B;\r\n        const interpolatedColors = [];\r\n        // Create the interpolated array of colors\r\n        for (let i = 0; i < steps; i++) {\r\n            const ratio = i / (steps - 1);\r\n            const r = Math.round(c1R + ratio * diffR);\r\n            const g = Math.round(c1G + ratio * diffG);\r\n            const b = Math.round(c1B + ratio * diffB);\r\n            interpolatedColors.push({ red: r, green: g, blue: b });\r\n        }\r\n        return interpolatedColors;\r\n    };\r\n    // const colors = interpolateHexColors(color1, color2, 10)\r\n    const rgbColors = interpolateHexColorsToRGB(color1, color2, 10);\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(\"div\", null,\r\n            \"Highest value: \",\r\n            highestValue),\r\n        React.createElement(\"div\", { className: `duo-heatmap ${modifier ? 'duo-heatmap--' + modifier : ''}` }, rows.map((row, index) => (React.createElement(Row, { label: row.label, index: index, key: row.label + index }, row.data.map((cell) => (React.createElement(Cell, { key: cell.id, highestValue: highestValue, colors: rgbColors, item1: cell.item1, item2: cell.item2 })))))))));\r\n};\r\n//# sourceMappingURL=index.js.map","references":["/home/untti/git/duo-heatmap/node_modules/@types/react/index.d.ts","/home/untti/git/duo-heatmap/src/components/row/row-component.tsx","/home/untti/git/duo-heatmap/src/components/cell/cell-component.tsx"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/index.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/untti/git/duo-heatmap/index.d.ts","writeByteOrderMark":false,"text":"import * as React from 'react';\r\nimport './styles.module.scss';\r\nimport { IRow } from './components/row/row-component';\r\ninterface Props {\r\n    rows: IRow[];\r\n    color1: string;\r\n    color2: string;\r\n    modifier?: string;\r\n}\r\nexport declare const DuoHeatmap: React.FC<Props>;\r\nexport {};\r\n"}}
